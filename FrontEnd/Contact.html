<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JoyJar - Mental Health Support</title>
    <link rel="stylesheet" type="text/css" href="./styles/style.css" title="style">
    <link rel="stylesheet" type="text/css" href="./styles/contact.css" title="style">
    <link rel="stylesheet" href="./chatbot/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet">
    <script src="./scripts/darkMode.js"></script>
</head>
<body>
  <div class="header">
    <div class="logo">
      <a href="./Home.html" style="text-decoration: none; color:white;">
        &nbsp;JOYJAR
        </a>
      <div class="slogan"><i>Nurturing minds, One Jar at a time!</i></div>
    </div>

      <!-- Three-dot toggle for mobile -->
      <div class="menu-toggle" onclick="toggleMenu()" data-tooltip="Click to view Menu">‚ãÆ‚ò∞</div>

      <!-- Wrap nav + controls for mobile toggle -->
      <div class="menu-wrapper">
        <div class="nav">
          <a href="./Home.html">Home</a>
          <a href="./About.html">About</a>
          <div class="dropdown">
            <a href="./blogs.html">Blogs</a>
            <div class="dropdown-content">
              <a href="./Featured pages/Agoraphobia.html">Agoraphobia</a>
              <a href="./Featured pages/BPD.html">BPD</a>
              <a href="./Featured pages/self-harm.html">Self-Harm</a>
              <a href="./Featured pages/ADHD.html">ADHD</a>
              <a href="./Featured pages/PTSD.html">PTSD</a>
              <a href="./Featured pages/Anxiety.html">Anxiety</a>
            </div>
          </div>
          <div class="dropdown">
            <a href="./Therapy.html">Therapy</a>
            <div class="dropdown-content">
              <a href="./Therapy-101.html">Therapy 101</a>
              <a href="./Therapy/MoodChecker.html">Mood Checker</a>
              <a href="./Therapy/Booster.html">Boost Your Mind</a>
              <div class="dropdown-submenu">
                <a href="#">Relaxation Games <span class="arrow">‚ñ∂</span></a>
                <div class="dropdown-subcontent">
                  <a href="./Therapy/breathing-exercise.html">Breathing Exercise</a>
                  <a href="./Therapy/guided-imagery.html">Guided Imagery</a>
                  <a href="./Therapy/calming-puzzles.html">Calming Puzzles</a>
                  <a href="./Therapy/sound-therapy.html">Sound Therapy</a>
                </div>
              </div>
            </div>
          </div>
          <a href="./FAQ.html">FAQs</a>
          <a href="./Contact.html" class="active">Contact</a>
        </div>

        <div class="controls">            
          <button class="controls" onclick="document.location='Signin.html'" data-tooltip="Login to your account">Sign In</button>
          <button onclick="document.location='Signup.html'" data-tooltip="Sign up for a new account">Sign Up</button>
        </div>

        <!-- Dark Mode Toggle Button -->
        <button id="togglebtn" onclick="toggleDarkMode()" class="toggle-switch" data-tooltip="Toggle Dark/Light Mode">
          <span class="icon">üòé</span>
          <span class="slider"></span>
          <span class="icon">&nbsp;üåú</span>
        </button>
      </div>
</div>


    <!-- <section id="contact">
      <h2>Reach Out to Us</h2>
      <p>Have questions or need support? Shoot us an email at <a href="mailto:joyjar@gmail.com" style="color: white; font-weight: bold;">joyjar@gmail.com</a></p>
      <form action="mailto:support@joyjar.com" method="post" enctype="text/plain">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required>
    
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required>
    
        <label for="message">Message:</label>
        <textarea id="message" name="message" rows="5" required></textarea>
    
        <button id="readmore" type="submit">Send Message</button>
      </form>
    </section> -->
    
<div class="container">
  <div class="background-image"></div>
  <header class="contact-header">
    <h1 class="title">Get In Touch</h1>
    <p class="subtitle">We'd love to hear from you. Reach out with any questions or support requests.</p>
  </header>

  <main class="contact-main">
    <form class="contact-form" id="contactForm" onsubmit="return handleContactSubmit(event)">
      <div class="form-group">
        <input type="text" id="name" name="name" required minlength="2" />
        <label for="name">Full Name</label>
        <div class="error-message" id="nameError"></div>
      </div>
      <div class="form-group">
        <input type="email" id="email" name="email" required />
        <label for="email">Email Address</label>
        <div class="error-message" id="emailError"></div>
      </div>
      <div class="form-group">
        <input type="tel" id="phone" name="phone" pattern="[0-9+\s-()]{10,}" />
        <label for="phone">Phone Number (optional)</label>
        <div class="error-message" id="phoneError"></div>
      </div>
      <div class="form-group">
        <textarea id="message" name="message" rows="5" required minlength="10"></textarea>
        <label for="message">Your Message</label>
        <div class="error-message" id="messageError"></div>
      </div>
      <div class="button-group">
        <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
        <button type="button" class="clear_btn" onclick="clearContactForm()">Clear Form</button>
      </div>
      <div id="formStatus" class="form-status"></div>
    </form>

    <aside class="contact-info">
      
      <h2>CONTACT INFO</h2>
      <img src="./Icons/JJ_Logo.png" alt="JoyJar Logo" class="smile-logo">
      <p><strong>Email:</strong> joyjar4u@gmail.com</p>
      <p><strong>Phone:</strong> +91 811 994 8228</p>
      <p><strong>Address:</strong> JoyJar, Mannarkkad, Kerala, India - 678582</p>

      <div class="social-links">
        <a href="https://www.facebook.com/joyjar4u" aria-label="Facebook" class="fb">Facebook</a>
        <a href="https://www.twitter.com/joyjar4u" aria-label="Twitter" class="tw">Twitter</a>
        <a href="https://www.instagram.com/joyjar4u" aria-label="Instagram" class="ig">Instagram</a>
      </div>
    </aside>
  </main>
</div>






    <script src="./chatbot/script.js"></script>

    <script src="./scripts/script.js"></script>



<div id="chatbot-icon" data-tooltip="Chat with us">
  <img src="./Icons/JJ_Logo.png" alt="Chatbot Icon" class="chatbot-icon">
</div>

<!-- Chatbot Container -->
<div id="chatbot-container" class="hidden">
  <div id="chatbot-header">
    <span>JoyJar - Your Companion</span>
    <button id="close-btn">&times;</button>
  </div>
  <div id="chatbot-body">
    <div id="chatbot-messages"></div>
  </div>
  <div id="chatbot-input-container">
    <input type="text" id="chatbot-input" placeholder="Type a message..." />
    <button id="send-btn">Send</button>
  </div>
</div>



<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-column footer-left">
      <p><strong>Visit Us:</strong><br>
        JoyJar, Mannarkkad, Kerala<br>
        India 678582
      </p>
      <p>
        <strong>Contact Us:</strong><br>
        <a href="mailto:joyjar4u@gmail.com">joyjar4u@gmail.com</a><br>
        <a href="tel:+918119948228">+91 811 994 8228</a>
      </p>
    </div>

    <div class="footer-column footer-middle">
      <p><strong>Quick Links</strong></p>
      <ul>
        <li><a href="./Home.html">Home</a></li>
        <li><a href="./About.html">About Us</a></li>
        <li><a href="./Therapy.html">Therapy</a></li>
        <li><a href="./blogs.html">Blogs</a></li>
        <li><a href="./contact.html">Contact</a></li>
      </ul>
    </div>

    <div class="footer-column footer-right">
      <div class="newsletter-signup">
        <p style="text-wrap: nowrap;"><strong>Daily Tips for a Healthy Mind to Your Inbox</strong></p>
        <form action="http://joyjar.chrispadaniel.com/subscribe" method="POST" class="newsletter-form">
          <input type="email" name="email" placeholder="Enter your email" required>
          <button type="submit">Subscribe</button>
        </form>
      </div>

      <p><strong>Follow Us:</strong></p>
      <div class="social-icons">
        <a href="https://www.instagram.com/joyjar4u" target="_blank" aria-label="Instagram">
          <img src="icons/instagram.svg" alt="Instagram">
        </a>
        <a href="https://www.facebook.com/joyjar4u" target="_blank" aria-label="Facebook">
          <img src="icons/facebook.svg" alt="Facebook">
        </a>
        <a href="https://wa.me/918119948228" target="_blank" aria-label="WhatsApp">
          <img src="icons/whatsapp.svg" alt="WhatsApp">
        </a>
      </div>
    </div>
  </div>

  <div class="footer-bottom">
    <p><i>Designed and Developed by</i> <a href="http://chrispadaniel.com">Chrispa Daniel</a></p>
    <p>&copy; 2025 <a href="http://joyjar.chrispadaniel.com">JoyJar</a> - All rights reserved.</p>
  </div>
</footer>



<a href="#" class="scroll-top-btn" title="Back to Top">‚òùÔ∏è</a>

<script>
  function clearContactForm() {
    document.getElementById('contactForm').reset();
    // Reset error messages
    document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
    document.getElementById('formStatus').textContent = '';
    // Reset label positions
    document.querySelectorAll('.form-group input, .form-group textarea').forEach(input => {
      input.dispatchEvent(new Event('input'));
    });
  }

  async function handleContactSubmit(event) {
    event.preventDefault();
    
    // Reset previous error messages
    document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
    document.getElementById('formStatus').textContent = '';
    
    // Get form data
    const form = event.target;
    const formData = new FormData(form);
    
    // Basic validation
    let isValid = true;
    const name = formData.get('name').trim();
    const email = formData.get('email').trim();
    const phone = formData.get('phone').trim();
    const message = formData.get('message').trim();
    
    if (name.length < 2) {
      document.getElementById('nameError').textContent = 'Name must be at least 2 characters long';
      isValid = false;
    }
    
    if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
      document.getElementById('emailError').textContent = 'Please enter a valid email address';
      isValid = false;
    }
    
    if (phone && !phone.match(/^[0-9+\s-()]{10,}$/)) {
      document.getElementById('phoneError').textContent = 'Please enter a valid phone number';
      isValid = false;
    }
    
    if (message.length < 10) {
      document.getElementById('messageError').textContent = 'Message must be at least 10 characters long';
      isValid = false;
    }
    
    if (!isValid) {
      return false;
    }
    
    // Disable submit button and show loading state
    const submitBtn = document.getElementById('submitBtn');
    submitBtn.disabled = true;
    submitBtn.textContent = 'Sending...';
    
    try {
      const response = await fetch('http://localhost:8000/api/contact/submit/', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
        },
        body: JSON.stringify({
          name,
          email,
          phone: phone || null,
          message
        })
      });
      
      const data = await response.json();
      
      if (response.ok) {
        // Show success message
        document.getElementById('formStatus').textContent = data.message;
        document.getElementById('formStatus').className = 'form-status success';
        // Clear form
        clearContactForm();
      } else {
        // Show error messages
        if (typeof data === 'object') {
          Object.entries(data).forEach(([field, errors]) => {
            const errorElement = document.getElementById(`${field}Error`);
            if (errorElement) {
              errorElement.textContent = Array.isArray(errors) ? errors[0] : errors;
            }
          });
        } else {
          document.getElementById('formStatus').textContent = 'Failed to send message. Please try again.';
          document.getElementById('formStatus').className = 'form-status error';
        }
      }
    } catch (error) {
      console.error('Error submitting form:', error);
      document.getElementById('formStatus').textContent = 'Failed to send message. Please try again.';
      document.getElementById('formStatus').className = 'form-status error';
    } finally {
      // Re-enable submit button
      submitBtn.disabled = false;
      submitBtn.textContent = 'Send Message';
    }
    
    return false;
  }

  // Add input event listeners to handle floating labels
  document.querySelectorAll('.form-group input, .form-group textarea').forEach(input => {
    input.addEventListener('input', function() {
      if (this.value.trim() !== '') {
        this.classList.add('has-value');
      } else {
        this.classList.remove('has-value');
      }
    });
  });
</script>

<style>
  .form-status {
    margin-top: 1rem;
    padding: 0.75rem;
    border-radius: var(--border-radius);
    text-align: center;
    display: none;
  }
  
  .form-status.success {
    display: block;
    background-color: var(--success-color);
    color: white;
  }
  
  .form-status.error {
    display: block;
    background-color: var(--error-color);
    color: white;
  }
  
  .error-message {
    color: var(--error-color);
    font-size: 0.85rem;
    margin-top: 0.25rem;
    display: none;
  }
  
  .error-message:not(:empty) {
    display: block;
  }
  
  .form-group input.has-value + label,
  .form-group textarea.has-value + label {
    transform: translateY(-1.5rem) scale(0.85);
    color: var(--accent-color);
  }
  
  .button-group {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
  }
  
  .clear-btn {
    background: var(--background-light);
    color: var(--text-secondary);
    border: 1px solid #e1e8ed;
    padding: 0.75rem 1.5rem;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
  }
  
  .clear-btn:hover {
    background: #e1e8ed;
    color: var(--text-primary);
  }
  
  body.dark-mode .clear-btn {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.2);
    color: rgba(255, 255, 255, 0.7);
  }
  
  body.dark-mode .clear-btn:hover {
    background: rgba(255, 255, 255, 0.15);
    color: var(--white);
  }
</style>
</body>
</html>
